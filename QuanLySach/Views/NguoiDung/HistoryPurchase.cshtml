@model IEnumerable<QuanLySach.Models.OrderViewModel>
@{
    ViewBag.Title = "Lịch Sử Đơn Hàng";
    Layout = "~/Views/Shared/LayoutKH.cshtml";
}

<div class="container" style="margin-top: 100px">
    <h2 class="fw-bold mb-4 text-center" style="font-family: EB Garamond; font-size: 116px; transform: translate(76px); margin-top: 100px" align="center">
        LỊCH SỬ MUA HÀNG
    </h2>
    @foreach (var order in Model)
    {
        <div class="card mb-4">
            <div class="card-header">
                <p>Ngày Đặt: @order.OrderDate.ToString("dd/MM/yyyy")</p>
                <p>Trạng Thái: <span style="color: limegreen">@order.Status</span></p>
                <p>Tổng Tiền: @String.Format("{0:N0}", order.TotalPrice) VNĐ</p>

            </div>
            <div class="card-body">
                <h6>Chi Tiết Sản Phẩm:</h6>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Tên Sách</th>
                            <th>Số Lượng</th>
                            <th>Đơn Giá</th>
                            <th>VAT</th>
                            <th>Thành Tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var detail in order.OrderDetails)
                        {
                            <tr>
                                <td>@detail.BookName</td>
                                <td>@detail.Quantity</td>
                                <td>@String.Format("{0:N0}", detail.UnitPrice) VNĐ</td>
                                <td>@String.Format("{0:N0}", detail.VAT)</td>
                                <td>@String.Format("{0:N0}", detail.TotalPrice) VNĐ</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
    
</div>


